(window.webpackJsonpy=window.webpackJsonpy||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},14:function(e,t,n){"use strict";var r=n(7);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o={getNew:function(e,t,n){return{code:e,on:arguments.length>3&&void 0!==arguments[3]&&arguments[3],type:t,language:n,properties:arguments.length>4?arguments[4]:void 0}},clone:function(e){return s({},e,{propertes:s({},e.properties)})},Types:{SLIDER:"SLIDER"},util:{defaultEffects:{TidalCycles:function(){return[o.getNew("gain",o.Types.SLIDER,"TidalCycles",!0,{value:1,operator:"|*",min:0,max:2,step:.01,scale:"linear"}),o.getNew("lpf",o.Types.SLIDER,"TidalCycles",!1,{value:22e3,operator:"#",min:0,max:22e3,step:10,scale:"log"}),o.getNew("hpf",o.Types.SLIDER,"TidalCycles",!1,{value:0,operator:"#",min:0,max:22e3,step:10,scale:"log"}),o.getNew("coarse",o.Types.SLIDER,"TidalCycles",!1,{value:0,operator:"#",min:0,max:24,step:1,scale:"linear"}),o.getNew("room",o.Types.SLIDER,"TidalCycles",!1,{value:0,operator:"#",min:0,max:1,step:.01,scale:"linear"}),o.getNew("size",o.Types.SLIDER,"TidalCycles",!1,{value:0,operator:"#",min:0,max:1,step:.01,scale:"linear"})]},Hydra:function(){return[o.getNew("kaleid",o.Types.SLIDER,"Hydra",!1,{value:1,min:0,max:50,step:1,scale:"linear"}),o.getNew("pixelate",o.Types.SLIDER,"Hydra",!1,{value:1,min:0,max:200,step:1,scale:"linear"})]}}}};t.a=o},140:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(23),s=n(9),o=n(6),c=n(11),i=n(12),l=n(13),p=n(0),u=n.n(p),d=n(7),f=(n(92),n(93),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={id:e.id,name:e.name,on:e.on,holdTime:new Date},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"Stem noselect"+(this.props.on?" on ":" off ")+(this.props.selected?"selected":""),tabIndex:0,onKeyUp:this.onKeyUp.bind(this),onMouseUp:this.mouseDown.bind(this),onContextMenu:function(t){t.preventDefault(),e.openInFlyout()}},u.a.createElement("div",{className:"verticalCenter",style:{width:"100%"}},this.props.name))}},{key:"onKeyUp",value:function(e){e.ctrlKey&&"v"===e.key&&this.props.globalActions.stemPaste(this.props.id)}},{key:"mouseUp",value:function(){new Date-this.state.holdTime>1e3?this.openInFlyout():this.toggle()}},{key:"onTouchStart",value:function(){this.toggle()}},{key:"mouseDown",value:function(e){e.shiftKey?this.props.globalActions.stemUpdate(this.props.id,{selected:!this.props.selected}):e.button?e.preventDefault():this.toggle()}},{key:"openInFlyout",value:function(){this.props.globalActions.stemUpdate(this.state.id,{open:!0})}},{key:"toggle",value:function(){this.props.globalActions.stemUpdate(this.props.id,{on:!this.props.on})}}]),t}(p.Component)),h=n(181),m=["CONNECT","SAVE","LOAD","DOWNLOAD","MASTER_UPDATE","STEM_UPDATE","STEM_DELETE_EFFECT","STEM_ADD_EFFECT","STEM_COPY","STEM_PASTE","TRACK_UPDATE","TRACK_DELETE_STEM","TRACK_ADD_STEM","TRACK_DELETE_EFFECT","TRACK_ADD_EFFECT","TRACK_ADD","TRACK_DELETE","EFFECT_UPDATE"];var _={};m.forEach(function(e){_[function(e){var t=e.split("_");return(t=t.map(function(e){return e[0]+e.slice(1,e.length).toLowerCase()}))[0]=t[0].toLowerCase(),t.join("")}(e)]=Object(h.a)(e)});var y=_,b={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};b.ws&&b.ws.close(),window.WebSocket=window.WebSocket||window.MozWebSocket;try{b.ws=new WebSocket("ws://"+e+":"+t),b.ws.isOpen=!1,b.ws.onopen=function(){b.ws.isOpen=!0,console.log("ws connection established"),n()},b.ws.onerror=function(e){console.warn(e),a(e)},b.ws.onclose=function(e){console.warn("ws closed"),b.ws.isOpen=!1,r(e)}}catch(s){a()}},sendCode:function(e){b.ws&&b.ws.isOpen?b.ws.send(JSON.stringify({type:"eval",code:e})):console.warn("Connection is closed")}},g=b,v=n(25),O=n(14),E=n(34),C=n(46);function k(e,t){var n=Object.keys(e.tracks).findIndex(function(n){return e.tracks[n].stems.includes(t)});return{track:n,stem:e.tracks[Object.keys(e.tracks)[n]].stems.findIndex(function(e){return e===t})}}var j=function e(t){return{connect:function(e,n){var r=function(){t(y.connect({url:e,port:n,isConnected:!1}))},a=r;g.init(e,n,function(){t(y.connect({url:e,port:n,isConnected:!0}))},r,a)},stemCopy:function(){var e=ke.getState(),n=Object.keys(e.stems).filter(function(t){return e.stems[t].selected});t(y.stemCopy({items:n}))},stemPaste:function(n){var r=ke.getState();if(!r.copy||r.copy.items.length<1)console.log("nothing copied");else{var a=k(r,n),s=e(t),o=k(r,r.copy.items[0]),c=a.track-o.track,i=a.stem-o.stem;r.copy.items.forEach(function(e){var t=k(r,e),n=t.track+c,a=t.stem+i;if(n>=Object.keys(r.tracks).length)console.log("too long");else{for(var o=Object.keys(r.tracks)[n];a>=r.tracks[o].stems.length;)s.trackAddStem(o),r=ke.getState();var l=r.tracks[o].stems[a];s.stemUpdate(l,r.stems[e])}})}},save:function(){window.localStorage.setItem("state",JSON.stringify(ke.getState())),console.log("saved")},load:function(){var e=window.localStorage.getItem("state");e?(e=JSON.parse(e),v.a.init(e),t(y.LOAD(e))):console.warn("Tried to load state but empty")},download:function(){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(ke.getState())),n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download","dead_state.json"),n.click(),t(y.DOWNLOAD())},masterUpdate:function(e,n){t(y.masterUpdate({language:e,value:n}))},stemUpdate:function(e,n){t(y.stemUpdate({stemId:e,value:n}))},stemDeleteEffect:function(e,n){t(y.stemDeleteEffect({stemId:e,effectId:n}))},stemAddEffect:function(e,n,r,a,s,o){var c=v.a.new(),i=O.a.getNew(n,r,a,s,o);t(y.stemAddEffect({stemId:e,effectId:c,value:i}))},trackUpdate:function(e,n){t(y.trackUpdate({trackId:e,value:n}))},trackDeleteStem:function(e,n){t(y.trackDeleteStem({trackId:e,stemId:n}))},trackAddStem:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TidalCycles",a=v.a.new(),s=E.a.getNew(r);t(y.trackAddStem({trackId:n,stemId:a,value:s})),O.a.util.defaultEffects[r]().forEach(function(n){e(t).stemAddEffect(a,n.code,n.type,n.language,n.on,n.properties)})},trackDeleteEffect:function(e,n){t(y.trackDeleteEffect({trackId:e,effectId:n}))},trackAddEffect:function(e){var n=v.a.new(),r=O.a.getNew("gain",O.a.Types.SLIDER,"TidalCycles",!0,{value:1,operator:"|*",min:0,max:2,step:.01,scale:"linear"});t(y.trackAddEffect({trackId:e,effectId:n,value:r}))},trackAdd:function(n){var r=C.a.getNew(n),a=v.a.new();t(y.trackAdd({trackId:a,value:r}));var s=e(t);[0,0,0,0,0].forEach(function(){s.trackAddStem(a)}),s.trackAddEffect(a)},trackDelete:function(n){var r=ke.getState().tracks[n],a=e(t);r.stems.forEach(function(e){a.trackDeleteStem(n,e)}),t(y.trackDelete({trackId:n}))},effectUpdate:function(e,n){t(y.effectUpdate({effectId:e,value:n}))}}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T=Object(a.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.stems[t.id],{},t)},function(e){return{globalActions:j(e)}})(f),w=(n(94),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement("div",Object.assign({},this.props,{className:"plusButton"}),u.a.createElement("div",null,"+"))}}]),t}(p.Component)),P=(n(95),n(96),n(105),n(182)),A=n(177),S=n(183),I=n(178),R=function(e){function t(e){var n;Object(s.a)(this,t);var r=(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).toSliderScale(n.props.properties.value);return n.state={value:n.props.properties.value,sliderValue:r},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"toSliderScale",value:function(e){if("log"===this.props.properties.scale){var t=this.props.properties.max-this.props.properties.min;return Math.pow(e/t,.5)*t}return e}},{key:"fromSliderScale",value:function(e){if("log"===this.props.properties.scale){var t=this.props.properties.max-this.props.properties.min;return Math.round(Math.pow(e/t,2)*t*this.props.properties.step)/this.props.properties.step}return e}},{key:"render",value:function(){return this.props.isVertical?this.renderVertical():this.renderHorizontal()}},{key:"handleSliderChange",value:function(e,t){if(t){var n=this.props.properties;n.value=t,this.props.globalActions.effectUpdate(this.props.id,{properties:n})}}},{key:"handleInputChange",value:function(e){var t=parseFloat(e.target.value),n=this.props.properties;n.value=t,this.props.globalActions.effectUpdate(this.props.id,{properties:n})}},{key:"toggle",value:function(e){var t=e.target.checked;this.props.globalActions.effectUpdate(this.props.id,{on:t})}},{key:"renderHorizontal",value:function(){var e=this;return u.a.createElement("div",{className:"Slider horizontal"},this.props.code,this.props.noToggle?null:u.a.createElement(P.a,{color:"primary",onChange:this.toggle.bind(this),checked:this.props.on}),u.a.createElement(A.a,{container:!0,spacing:2,alignItems:"center"},u.a.createElement(A.a,{item:!0,xs:!0},u.a.createElement(S.a,{onChange:function(t,n){n&&(e.setState({sliderValue:n,value:e.fromSliderScale(n)}),e.handleSliderChange(t,n))},min:this.props.properties.min,max:this.props.properties.max,step:this.props.properties.step,value:parseFloat(this.state.sliderValue)})),u.a.createElement(A.a,{item:!0},u.a.createElement(I.a,{margin:"dense",onChange:function(t){var n=parseFloat(t.target.value);t.persist(),e.setState({value:n,sliderValue:e.toSliderScale(n)}),e.handleInputChange.bind(e)(t)},value:this.state.value,inputProps:{step:this.props.properties.step,min:this.props.properties.min,max:this.props.properties.max,type:"number","aria-labelledby":"input-slider"}}))))}},{key:"renderVertical",value:function(){var e=this;return u.a.createElement("div",{className:"Slider vertical"},u.a.createElement(S.a,{orientation:"vertical",onChange:function(t,n){n&&(e.setState({sliderValue:n,value:e.fromSliderScale(n)}),e.handleSliderChange(t,n))},min:this.props.properties.min,max:this.props.properties.max,step:this.props.properties.step,value:parseFloat(this.state.sliderValue)}),u.a.createElement(I.a,{margin:"dense",onChange:function(t){var n=parseFloat(t.target.value);t.persist(),e.setState({value:n,sliderValue:e.toSliderScale(n)}),e.handleInputChange.bind(e)(t)},value:this.state.value,inputProps:{step:this.props.properties.step,min:this.props.properties.min,max:this.props.properties.max,type:"number","aria-labelledby":"input-slider"}}),u.a.createElement("div",{style:{textAlign:"center"}},this.props.code,this.props.noToggle?null:u.a.createElement(P.a,{color:"primary",onChange:this.toggle.bind(this),checked:this.props.on})))}}]),t}(p.Component),M=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){switch(this.props.type){case O.a.Types.SLIDER:return u.a.createElement(R,this.props);default:return console.warn("unrecognized effect type: "+this.props.type),null}}}]),t}(p.Component);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var U=Object(a.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.effects[t.id],{},t)},function(e){return{globalActions:j(e)}})(M),N=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"stemToComponent",value:function(e){return u.a.createElement(T,{key:e,id:e})}},{key:"render",value:function(){var e=this.props.stems.map(this.stemToComponent.bind(this));return u.a.createElement("div",{className:"Track"},u.a.createElement("input",{onChange:this.titleChange.bind(this),value:this.props.name}),u.a.createElement("div",{className:"stems"},e,u.a.createElement(w,{onClick:this.addStem.bind(this)})),u.a.createElement("div",{className:"effects"},u.a.createElement("div",{className:"launchButton"},u.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"var(--font-color-dark)",width:"24",height:"24",viewBox:"0 0 24 24"},u.a.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),u.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),u.a.createElement(U,{isVertical:!0,noToggle:!0,updateEffect:this.updateEffect.bind(this),id:this.props.effects[0]})))}},{key:"updateEffect",value:function(e){this.props.globalActions.trackUpdate(this.props.id,{effects:[e]})}},{key:"addStem",value:function(){this.props.globalActions.trackAddStem(this.props.id)}},{key:"titleChange",value:function(e){this.props.globalActions.trackUpdate(this.props.id,{name:e.target.value})}}]),t}(p.Component);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=Object(a.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.tracks[t.id],{},t)},function(e){return{globalActions:j(e)}})(N),W=(n(106),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"trackToDom",value:function(e){return e.globalActions=this.props.globalActions,u.a.createElement(K,Object.assign({key:e.id},e))}},{key:"trackIdToComponent",value:function(e){return u.a.createElement(K,{key:e,id:e})}},{key:"render",value:function(){var e=Object.keys(this.props.tracks).map(this.trackIdToComponent.bind(this));return u.a.createElement("div",{className:"LaunchSpace",style:this.props.style,tabIndex:"1",onKeyUp:this.onKeyUp.bind(this)},e,u.a.createElement(w,{onClick:this.newTrack.bind(this),style:{display:"inline-block",top:"0px",width:"50px",minWidth:"50px",height:"30px",margin:"5px"}}))}},{key:"onKeyUp",value:function(e){var t=this;if("delete"===e.key.toLowerCase())Object.keys(this.props.tracks).map(function(e){return t.props.tracks[e].stems.map(function(n){return{trackId:e,stemId:n,selected:t.props.stems[n].selected}})}).flat().filter(function(e){return e.selected}).forEach(function(e){t.props.globalActions.trackDeleteStem(e.trackId,e.stemId)});else if(e.ctrlKey&&"c"===e.key.toLowerCase())this.props.globalActions.stemCopy();else if("escape"===e.key.toLowerCase()){Object.keys(this.props.stems).filter(function(e){return t.props.stems[e].selected}).forEach(function(e){return t.props.globalActions.stemUpdate(e,{selected:!1})})}}},{key:"newTrack",value:function(){this.props.globalActions.trackAdd()}}]),t}(p.Component)),F=Object(a.b)(function(e,t){return e},function(e){return{globalActions:j(e)}})(W),B=(n(107),n(108),n(180)),H=n(36),z=n.n(H),q=(n(109),n(179)),V=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={code:n.props.code},n.updateCode=z()(n.props.onChange,1e3),n.flashTimeout=null,n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"CodeEditor"},"Live",u.a.createElement(P.a,{color:"primary",onChange:function(t){e.props.onChangeLive(t.target.checked)},checked:this.props.live}),u.a.createElement(q.a,{color:"primary",disabled:this.props.live,onClick:function(t){e.updateCode.bind(e)(t.target.value)},variant:"outlined"},"eval"),u.a.createElement("textarea",{className:this.state.flash?"flash":"",onKeyPress:this.onKeyPress.bind(this),onChange:function(t){e.setState({code:t.target.value}),e.props.live&&e.updateCode.bind(e)(t.target.value)},value:this.state.code}))}},{key:"onKeyPress",value:function(e){var t=this;e.shiftKey&&"Enter"===e.key&&(e.preventDefault(),this.props.onChange(this.state.code),clearTimeout(this.flashTimeout),this.setState({flash:!0}),this.flashTimeout=setTimeout(function(){t.setState({flash:!1})},1))}}]),t}(p.Component),$=n(26),J=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"changeTempo",value:function(e,t){var n=this.props;n.properties.tempo=t.properties.value,this.props.globalActions.masterUpdate($.a.Languages.TidalCycles,n)}},{key:"getLanguageSpecific",value:function(){var e=this;switch(this.props.language){case $.a.Languages.TidalCycles:var t={code:"Tempo",language:"TidalCycles",on:!0,properties:{max:300,min:0,operator:"",scale:"linear",step:.01,value:this.props.properties.tempo},globalActions:{effectUpdate:this.changeTempo.bind(this)},noToggle:!0,key:"tempo",type:"SLIDER",updateEffect:this.changeTempo.bind(this)};return[u.a.createElement(V,{key:"tidalEditorMain",onChange:function(t){e.props.globalActions.updateMaster(e.props.language,{macros:t})},onChangeLive:function(t){e.setState({bootScriptLive:t})},code:this.props.macros,live:!1}),u.a.createElement(M,t)];case $.a.Languages.Hydra:return null;default:return console.warn("unrecognized language: "+this.props.language),null}}},{key:"updateEffect",value:function(e){this.props.globalActions.updateMasterEffect(e)}},{key:"effectIdToComponent",value:function(e){return u.a.createElement(U,{key:e,id:e,updateEffect:this.updateEffect.bind(this)})}},{key:"render",value:function(){var e=this.props.effects.map(this.effectIdToComponent.bind(this)),t=this.getLanguageSpecific();return u.a.createElement("div",{className:"LanguageControls"},t,e)}}]),t}(p.Component),Y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={connection:n.props.connection,language:Object.keys(n.props.master)[0]},n.connect=z()(function(){n.props.globalActions.connect(n.state.connection.url,n.state.connection.port)},2e3),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"updateEffect",value:function(e){this.props.globalActions.updateMasterEffect(e)}},{key:"languageChange",value:function(e){this.setState(Object.assign({},this.state,{language:e.target.value}))}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.master).map(function(e){return u.a.createElement("option",{key:e,value:e},e)});return u.a.createElement("div",{className:"MasterEditor",style:this.props.style},u.a.createElement("select",{onChange:this.languageChange.bind(this),value:this.state.language},t),u.a.createElement(J,Object.assign({},this.props.master[this.state.language],{language:this.state.language,globalActions:this.props.globalActions})),u.a.createElement("div",{className:"separator",style:{border:this.props.connection.isConnected?"1pt solid var(--stem-off)":"1pt solid red"}},u.a.createElement("h3",null,"Connection"),u.a.createElement("div",null,u.a.createElement(B.a,{style:{width:"50%",marginLeft:"5px"},label:"URL",value:this.state.connection.url,onChange:function(t){var n=e.state.connection;n.url=t.target.value,e.setState({connection:n}),e.connect()},margin:"normal"}),u.a.createElement(B.a,{style:{width:"50%",marginLeft:"5px",maxWidth:"100px"},label:"Port",type:"number",value:this.state.connection.port,onChange:function(t){var n=e.state.connection;n.port=parseInt(t.target.value),e.setState({connection:n}),e.connect()},margin:"normal"}))))}},{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.connection.url,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.connection.port,r={url:t,port:n,isConnected:this.state.isConnected};this.setState({connection:r}),z()(function(){e.props.globalActions.connect(t,n)},3e3,{trailing:!0})()}},{key:"updateConnect",value:function(e,t){this.props.globalActions.connect(e,t)}},{key:"toggle",value:function(e){this.props.globalActions.toggleLive(e.target.checked)}}]),t}(p.Component),G=(n(110),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={code:n.props.code},n.updateCode=z()(n._updateCode,1e3),n.textAreaRef=u.a.createRef(),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"effectIdToComponent",value:function(e){return u.a.createElement(U,{key:e,id:e})}},{key:"render",value:function(){var e=this,t=this.props.effects.map(this.effectIdToComponent.bind(this));return u.a.createElement("div",{className:"StemEditor",style:this.props.style},"Name:",u.a.createElement("input",{style:{backgroundColor:"var(--stem-off)"},onChange:this.updateName.bind(this),type:"text",value:this.props.name}),u.a.createElement("select",{value:this.props.language,onChange:this.handleLanguageChange.bind(this),name:"language"},Object.keys($.a.Languages).map(function(e){return u.a.createElement("option",{key:e,value:e},e)})),u.a.createElement(V,{onChange:function(t){return e.props.globalActions.stemUpdate(e.props.id,{code:t})},onChangeLive:function(t){return e.props.globalActions.stemUpdate(e.props.id,{live:t})},code:this.props.code,live:this.props.live}),u.a.createElement("div",null,t,u.a.createElement(w,{style:{maxWidth:"60px",maxHeight:"30px",marginLeft:"10px"},onClick:this.newEffect.bind(this)})),u.a.createElement(q.a,{style:{marginTop:"5px"},onClick:this.delete.bind(this),color:"primary",variant:"outlined"},"delete"))}},{key:"newEffect",value:function(){console.log("new effect (not implemented - StemEditor")}},{key:"handleLanguageChange",value:function(e){this.props.globalActions.stemUpdate(this.props.id,{language:e.target.value})}},{key:"maybeEval",value:function(e){var t=this;e.shiftKey&&"Enter"===e.key&&(e.preventDefault(),this.props.globalActions.stemUpdate(this.props.id,{code:this.state.code}),this.textAreaRef.current.classList.add("flash"),setTimeout(function(){t.textAreaRef.current.classList.remove("flash")},250))}},{key:"delete",value:function(){this.props.globalActions.removeStem(this.props.trackId,this.props.id)}},{key:"updateEffect",value:function(e){var t=this.props.effects.map(function(t){return t.id===e.id?Object.assign(t,e,{}):t});this.props.globalActions.stemUpdate(this.props.id,{effects:t})}},{key:"updateName",value:function(e){this.props.globalActions.stemUpdate(this.props.id,{name:e.target.value})}},{key:"_updateCode",value:function(e){this.props.globalActions.stemUpdate(this.props.id,{code:e.target.value})}}]),t}(p.Component)),Q=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{onClick:this.props.switchToTab,className:"Tab"+(this.props.selected?"":" unselected")},u.a.createElement("label",null,this.props.label),this.props.closeAble?u.a.createElement("svg",{onClick:this.props.closeTab,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},u.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})):null,this.props.selected?u.a.createElement("div",{className:"indicator"}):null)}}]),t}(p.Component),X=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={tab:"master",history:[]},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"switchTab",value:function(e){var t=this.props.stems.map(function(e){return e.id});if("master"===e||t.includes(e)){var n=this.state.history.concat([e]);this.setState({tab:e,history:n})}else console.log("err tab not found")}},{key:"closeTab",value:function(e){var t,n,r=this;this.state.history.length-1?(n=(n=this.state.history.slice(0,-1)).filter(function(t){return t!==e}),t=n[n.length-1]||"master"):(t="master",n=this.state.history),this.setState({tab:t,history:n}),setTimeout(function(){r.props.globalActions.stemUpdate(e,{open:!1}),r.setState({tab:t,history:n})},1)}},{key:"render",value:function(){var e=this,t=this.props.stems.map(function(t){return{tab:u.a.createElement(Q,{switchToTab:function(){e.switchTab.bind(e)(t.id)},label:""===t.name?"<untitled>":t.name,key:t.id+"_tab",id:t.id,selected:e.state.tab===t.id,closeAble:!0,closeTab:function(){e.closeTab.bind(e)(t.id)}}),content:u.a.createElement(G,Object.assign({style:{display:e.state.tab===t.id?"block":"none"},key:t.id+"_editor"},t,{globalActions:e.props.globalActions}))}});return u.a.createElement("div",{className:"Flyout",style:this.props.style},u.a.createElement("div",{className:"scrollbarHidden"},u.a.createElement("div",{className:"TabContainer"},u.a.createElement(Q,{switchToTab:function(){e.switchTab.bind(e)("master")},value:"master",label:"master",selected:"master"===this.state.tab}),t.map(function(e){return e.tab}))),u.a.createElement("div",{className:"content"},u.a.createElement(Y,Object.assign({},this.props,{value:"master",style:{display:"master"===this.state.tab?"block":"none"}})),t.map(function(e){return e.content})))}}]),t}(p.Component),Z=Object(a.b)(function(e){var t=Object.keys(e.stems).map(function(t){return Object.assign({},e.stems[t],{id:t})}).filter(function(e){return e.open});return{master:e.master,connection:e.connection,stems:t}},function(e){return{globalActions:j(e)}})(X),ee=(n(111),n(39)),te=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).iframeRef=u.a.createRef(),n.tidalCycles={code:"",tempo:null,macros:""},n.hydra={code:"",macros:""},n.poppedOut=[],n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t,n){return!0}},{key:"render",value:function(){var e=ee.a.TidalCycles.getCode(this.props);if(console.log("render?"),this.props.connection.isConnected){console.log(this.tidalCycles.tempo,this.props.master.TidalCycles.properties.tempo),this.tidalCycles.tempo!==this.props.master.TidalCycles.properties.tempo&&(g.sendCode(ee.a.TidalCycles.getTempoCode(this.props)),this.tidalCycles.tempo=this.props.master.TidalCycles.properties.tempo,console.log("TidalCycles tempo: "+this.tidalCycles.tempo)),this.tidalCycles.macros!==this.props.master.TidalCycles.macros&&(g.sendCode(this.props.master.TidalCycles.macros),this.tidalCycles.macros=this.props.master.TidalCycles.macros);var t=ee.a.TidalCycles.getCode(this.props);this.tidalCycles.code!==t&&(console.log("tidal:",e),g.sendCode(e),this.tidalCycles.code=t)}if(this.iframeRef.current&&this.iframeRef.current.contentWindow){var n=JSON.parse(JSON.stringify(this.props));this.iframeRef.current.contentWindow.postMessage({state:n}),this.poppedOut.length&&this.poppedOut.forEach(function(e){e.postMessage({state:n})})}return u.a.createElement("div",{className:"Render",style:this.props.style})}},{key:"popoutRender",value:function(){this.poppedOut.push(window.open("/render"))}}]),t}(p.Component),ne=Object(a.b)(function(e){return e},function(e){return{globalActions:j(e)}})(te),re=(n(114),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={divider:70,horizontalDivider:75},n.appRef=u.a.createRef(),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.globalActions.connect(this.props.connection.url,this.props.connection.port)}},{key:"render",value:function(){return u.a.createElement("div",{onDragOver:function(e){e.preventDefault()},ref:this.appRef,className:"App",tabIndex:"0",onKeyDown:this.macros.bind(this)},u.a.createElement(F,{style:{width:this.state.divider+"%"}}),u.a.createElement("div",{id:"rightPanel",style:{width:100-this.state.divider+"%"}},u.a.createElement(Z,{style:{height:this.state.horizontalDivider+"%"}}),u.a.createElement(ne,{style:{height:100-this.state.horizontalDivider+"%"}})))}},{key:"dividerResize",value:function(e){this.setState({divider:100*e/document.body.clientWidth})}},{key:"dividerResizeRightPanel",value:function(e){this.setState({horizontalDivider:100*e/document.body.clientHeight})}},{key:"macros",value:function(e){e.ctrlKey&&("s"===e.key?(e.preventDefault(),this.props.globalActions.save()):"l"===e.key?(e.preventDefault(),this.props.globalActions.load()):"d"===e.key?(e.preventDefault(),this.props.globalActions.download()):"o"===e.key&&(e.preventDefault(),this.props.globalActions.openFile()))}}]),t}(p.Component)),ae=Object(a.b)(function(e){return e},function(e){return{globalActions:j(e)}})(re),se=n(49);n(19);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ie=function(e,t){var n=t.payload;if("TRACK_UPDATE"===t.type)return e[n.trackId]=Object.assign({},e[n.trackId],n.value),ce({},e);if("TRACK_DELETE_STEM"===t.type)return e[n.trackId].stems=e[n.trackId].stems.filter(function(e){return e!==n.stemId}),e[n.trackId]=Object.assign({},e[n.trackId]),ce({},e);if("TRACK_ADD_STEM"===t.type){var r=Object.assign({},e[n.trackId]);r.stems=r.stems.concat([n.stemId]);var a={};return a[n.trackId]=r,Object.assign({},e,a)}return"TRACK_DELETE_EFFECT"===t.type?(e[n.trackId]=ce({},e[n.trackId]),e[n.trackId].effects=e[n.track].filter(function(e){return e!==n.effectId}),ce({},e)):"TRACK_ADD_EFFECT"===t.type?(e[n.trackId]=ce({},e[n.trackId]),e[n.trackId].effects.push(n.effectId),ce({},e)):"TRACK_ADD"===t.type?(e[n.trackId]=n.value,ce({},e)):e},le=function(e,t){switch(t.type){case"CONNECT":return{url:t.payload.url,port:t.payload.port,isConnected:t.payload.isConnected};default:return e}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ue=function(e,t){switch(t.type){case"MASTER_UPDATE":var n=Object.assign({},e[t.language],t.value);return e[t.language]=n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);default:return e}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var he=function(e,t){var n=t.payload;return"STEM_UPDATE"===t.type?(e[n.stemId]=Object.assign({},e[n.stemId],n.value),fe({},e)):"STEM_DELETE_EFFECT"===t.type?(e[n.stemId]=Object.assign({},e[n.stemId]),e[n.stemId].effects=e[n.stemId].effects.filter(function(e){return e!==n.effectId}),fe({},e)):"STEM_ADD_EFFECT"===t.type?(e[n.stemId]=Object.assign({},e[n.stemId]),e[n.stemId].effects.push(n.effectId),fe({},e)):"STEM_COPY"===t.type?e:"STEM_PASTE"===t.type?(console.log("paste not yet implemented"),e):"TRACK_ADD_STEM"===t.type?(e[n.stemId]=n.value,fe({},e)):"TRACK_DELETE_STEM"===t.type?(delete e[n.stemId],fe({},e)):e};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ye=function(e,t){return"EFFECT_UPDATE"===t.type?(e[t.payload.effectId]=Object.assign({},e[t.payload.effectId],t.payload.value),_e({},e)):"STEM_ADD_EFFECT"===t.type?(e[t.payload.effectId]=t.payload.value,_e({},e)):"STEM_DELETE_EFFECT"===t.type?(delete e[t.payload.effectId],_e({},e)):"TRACK_ADD_EFFECT"===t.type?(e[t.payload.effectId]=t.payload.value,_e({},e)):"TRACK_DELETE_EFFECT"===t.type?(delete e[t.payload.effectId],_e({},e)):e},be=function(e,t){return"STEM_COPY"===t.type?{type:"stems",items:t.payload.items}:e},ge=n(74),ve=n.n(ge),Oe=n(78),Ee=n(38),Ce=n(75);p.Component;n.d(t,"store",function(){return ke});var ke=Object(se.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.a.defaultState,t=arguments.length>1?arguments[1]:void 0;return{copy:be(e.copy,t),master:ue(e.master,t),connection:le(e.connection,t),tracks:ie(e.tracks,t),stems:he(e.stems,t),effects:ye(e.effects,t)}},Object(se.a)(ve.a));Object(r.render)(u.a.createElement(Oe.a,null,u.a.createElement(a.a,{store:ke},u.a.createElement(Ee.a,{path:"/",exact:!0,component:ae}))),document.getElementById("root"))},25:function(e,t,n){"use strict";var r={index:0};r.init=function(e){r.index=function e(t){var n=[];for(var r in t)"id"===r?n.push(t[r]):"object"===typeof t[r]&&n.push(e(t[r]));return Math.max.apply(Math,n)}(e)},r.new=function(){return r.index+++""},t.a=r},26:function(e,t,n){"use strict";var r=n(46),a=n(14);var s={getNew:function(e,t){return{macros:"",effects:[],properties:t}}},o=n(25),c=n(34),i={Languages:{TidalCycles:"TidalCycles",Hydra:"Hydra"}},l={},p={},u={},d=s.getNew("TidalCycles",{tempo:120});for(var f in a.a.util.defaultEffects.TidalCycles()){var h=o.a.new();u[h]=a.a.util.defaultEffects.TidalCycles()[f],d.effects.push(h)}var m=s.getNew("Hydra");for(var _ in a.a.util.defaultEffects.Hydra()){var y=o.a.new();u[y]=a.a.util.defaultEffects.Hydra()[_],m.effects.push(y)}for(var b={TidalCycles:d,Hydra:m},g=0;g<5;g++){var v=o.a.new();l[v]=r.a.getNew();for(var O=function(e){var t=o.a.new();p[t]=c.a.getNew(),a.a.util.defaultEffects.TidalCycles().forEach(function(e){var n=o.a.new();u[n]=e,p[t].effects.push(n)}),l[v].stems.push(t)},E=0;E<5;E++)O();var C=o.a.new();u[C]=a.a.getNew("gain",a.a.Types.SLIDER,"TidalCycles",!0,{value:1,operator:"|*",min:0,max:2,step:.01,scale:"linear"}),l[v].effects.push(C)}i.defaultState={connection:{isConnected:!1,url:"127.0.0.1",port:8001},master:b,copy:null,tracks:l,stems:p,effects:u};t.a=i,a.a.Types.SLIDER},34:function(e,t,n){"use strict";var r=n(19),a=n(7),s=n(14);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var c={getNew:function(){return{name:"",on:!1,selected:!1,open:!1,live:!1,language:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TidalCycles",code:"",effects:[]}},clone:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{trackId:t,effects:Object(r.a)(e.effects).map(s.a.clone)})}};t.a=c},39:function(e,t,n){"use strict";var r=n(0),a=n.n(r),s=(n(112),n(14)),o={language:"Hydra",getCode:function(e,t){var n=[];for(var r in e.tracks){var a=e.tracks[r],s=l(a,t);s&&n.push([s,a.gainEffect.properties.value])}Object.keys(e.tracks);for(var o="solid(0,0,0,0)",c=0;c<n.length;c++){var i=n[c][0],p=n[c][1];o="".concat(o,".").concat(t,"(").concat(i,",").concat(p,")")}return o+=".out()"},getAudienceDom:function(e){return a.a.createElement("div",{className:"code"},o.getCode(e,"blend"))}};var c={};function i(e){return c[e.type](e)}function l(e,t){var n=[];for(var r in e.stems){var a=e.stems[r];a.on&&"Hydra"===a.language&&""!==a.code&&n.push(p(a))}if(n.length<1)return null;for(var s=n[0],o=1;o<n.length;o++)s="".concat(s,".").concat(t,"(").concat(n[o],")");return s}function p(e){var t=e.effects.filter(function(e){return e.on}).map(i).join("");return e.code+t}c[s.a.Types.SLIDER]=function(e){return".".concat(e.name,"(").concat(e.properties.value,")")};n(113);var u=n(26),d={language:"TidalCycles",getCode:function(e){var t="stack [",n=Object.keys(e.tracks).map(function(t){return b(e,e.tracks[t])});t+=n.filter(function(e){return""!==e}).join(", ")+"]";var r=[],a=(e.master[u.a.Languages.TidalCycles].effects.forEach(function(t){var n=e.effects[t];n.on&&r.push(_(n))}),r.join(" $ "));return"d1 $ ".concat(a).concat(r.length?" $ ":"").concat(t)},trackToCode:b,getTempoCode:function(e){return"setcps "+e.master.TidalCycles.properties.tempo/60/2},getAudienceDom:function(e){var t=[];for(var n in e.tracks){var r=f(e.tracks[n]);r&&(t.push(r),t.push(","))}t=t.slice(0,-1);var s=e.master[u.a.Languages.TidalCycles].effects.filter(function(e){return e.on}).map(h).filter(function(e){return e});return s=s.map(function(e){return[e," . "]}).flat().slice(0,-1),a.a.createElement("div",{className:"code TidalCycles"},"d1 $ ",s," ",s.length?"$":""," stack [",t,"]")}};function f(e){var t=[];for(var n in e.stems){var r=e.stems[n];if(r.on&&"TidalCycles"===r.language){var s=y(r);s&&t.push(s)}}if(!t.length)return null;t=t.map(function(e){return[e,","]}).flat().slice(0,-1);var o="(|* gain ".concat(2*e.gainEffect.properties.value,")");return a.a.createElement("div",{key:e.id,className:"trackCode"},o," "," $ ","stack [",t,"]")}function h(e){if(!e.on)return null;var t=_(e);return a.a.createElement("div",{className:"effectCode"},t)}var m={};function _(e){return m[e.type](e)}function y(e,t){if(""===t.code)return"";var n=[];t.effects.forEach(function(t){var r=e.effects[t];r.on&&n.push(_(r))});var r=n.join(" $ ");return r+=n.length?" $ ":"",r+=t.code}function b(e,t){var n=[];if(t.stems.forEach(function(t){var r=e.stems[t];r.on&&"TidalCycles"===r.language&&n.push(y(e,r))}),n.length<1)return"";n=n.join(", ");var r=[];t.effects.forEach(function(t){var n=e.effects[t];n.on&&r.push(_(n))});var a=r.join(" $ ");return"".concat(a," $ stack [").concat(n,"]")}m[s.a.Types.SLIDER]=function(e){return"(".concat(e.properties.operator," ").concat(e.code," ").concat(e.properties.value,")")},n.d(t,"a",function(){return g});var g={Hydra:o,TidalCycles:d}},46:function(e,t,n){"use strict";var r=n(7),a=n(14),s=n(34);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var c={getNew:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],{name:"New Track",stems:[],effects:[]}},clone:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{stems:e.stems.map(function(e){return s.a.clone(e)}),effects:e.effects.map(a.a.clone)})}};t.a=c},75:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return AudienceRender});var C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),hydra_synth__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76),hydra_synth__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(hydra_synth__WEBPACK_IMPORTED_MODULE_6__),_index_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(140),_index_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_7__),_Renderers__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(39),AudienceRender=function(_Component){function AudienceRender(e){var t;return Object(C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,AudienceRender),(t=Object(C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(AudienceRender).call(this,e))).hydraRef=react__WEBPACK_IMPORTED_MODULE_5___default.a.createRef(),t.hydraCode="",t}return Object(C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(AudienceRender,_Component),Object(C_Users_jamie_Documents_Dead_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(AudienceRender,[{key:"componentDidMount",value:function(){window.hydra=new hydra_synth__WEBPACK_IMPORTED_MODULE_6___default.a({canvas:this.hydraRef.current})}},{key:"render",value:function render(){var hydraDom,tidalDom;if(this.props.tracks){hydraDom=_Renderers__WEBPACK_IMPORTED_MODULE_8__.a.Hydra.getAudienceDom(this.props),tidalDom=_Renderers__WEBPACK_IMPORTED_MODULE_8__.a.TidalCycles.getAudienceDom(this.props);var hydraCode=_Renderers__WEBPACK_IMPORTED_MODULE_8__.a.Hydra.getCode(this.props,"blend");if(hydraCode!==this.hydraCode){console.log("hydra: ",hydraCode);try{eval(hydraCode)}catch(e){console.warn("Hydra ERR:",e)}this.hydraCode=hydraCode}}return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"AudienceRender"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("canvas",{ref:this.hydraRef}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"code"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"tidalcycles",className:"column"},tidalDom),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{id:"hydra",className:"column"},hydraDom)))}}]),AudienceRender}(react__WEBPACK_IMPORTED_MODULE_5__.Component)},83:function(e,t,n){e.exports=n(142)},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){}},[[83,1,2]]]);
//# sourceMappingURL=main.14a23c74.chunk.js.map